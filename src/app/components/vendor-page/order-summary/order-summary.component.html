<div class="min-h-screen flex flex-col">
    <!-- Gradient Header with Wave (Unchanged) -->
    <div class="relative">
      <div class="absolute inset-0 bg-gradient-to-l from-red-500 to-yellow-500 h-[220px] sm:h-[240px] md:h-[260px]">
        <div class="absolute bottom-0 left-0 right-0 overflow-hidden">
          <svg viewBox="0 0 1440 200" class="w-full" preserveAspectRatio="none">
            <path
              fill="#f8fafc"
              fill-opacity="1"
              d="M0,96L80,106.7C160,117,320,139,480,149.3C640,160,800,160,960,138.7C1120,117,1280,75,1360,53.3L1440,32L1440,200L1360,200C1280,200,1120,200,960,200C800,200,640,200,480,200C320,200,160,200,80,200L0,200Z"
            ></path>
          </svg>
        </div>
      </div>
  
      <!-- Header Text (Refined) -->
      <div class="container mx-auto px-4 relative z-10 h-[180px] sm:h-[200px] md:h-[220px] flex items-center justify-center">
        <div class="text-center max-w-md mx-auto">
          <div class="inline-block mb-1 px-4 py-1 rounded-full bg-white/20 text-white text-sm font-medium tracking-wide">
            Order Summary
          </div>
          <h2 class="text-xl md:text-2xl font-light text-white mt-3">Thanks for your order,</h2>
          <h1 class="text-3xl md:text-4xl font-bold text-white mt-1">{{ user.name }}</h1>
          <p class="text-white/90 mt-2 text-lg font-light">Here's a summary of your purchase</p>
        </div>
      </div>
    </div>
  
    <!-- Main Content (Updated) -->
    <div class="flex-grow bg-gray-50">
      <div class="container mx-auto px-6 py-12 max-w-6xl">
        <!-- Order Status -->
        <div class="mb-12">
          <div class="flex items-center justify-between mb-6">
            <h2 class="text-2xl font-semibold text-gray-800">Order Status</h2>
            <span class="px-4 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium">{{ order.status }}</span>
          </div>
          
          <div class="relative">
            <!-- Progress Bar -->
            <div class="h-2 bg-gray-200 rounded-full mb-8">
              <div class="h-2 bg-green-500 rounded-full" [style.width]="getProgressWidth()"></div>
            </div>
            
            <!-- Progress Steps -->
            <div class="flex justify-between text-sm text-gray-600">
              <div *ngFor="let step of orderSteps; let i = index" 
                   class="flex flex-col items-center"
                   [class.text-green-600]="i <= currentStep"
                   [class.font-medium]="i <= currentStep">
                <div class="w-8 h-8 rounded-full flex items-center justify-center mb-2"
                     [class.bg-green-500]="i <= currentStep"
                     [class.bg-gray-200]="i > currentStep"
                     [class.text-white]="i <= currentStep"
                     [class.text-gray-400]="i > currentStep">
                  <span *ngIf="i <= currentStep">✓</span>
                  <span *ngIf="i > currentStep">{{ i + 1 }}</span>
                </div>
                <span>{{ step }}</span>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Items and Order Details in 2 columns for larger screens -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <!-- Items Column (2/3 width) -->
          <div class="lg:col-span-2">
            <h2 class="text-xl font-semibold text-gray-800 mb-6 pb-3 border-b border-gray-200">Your Items</h2>
            
            <div *ngIf="orderItems.length > 0; else noOrder">
              <div *ngFor="let item of orderItems" 
                   class="bg-white rounded-lg shadow-sm p-5 border border-gray-100 mb-4 flex flex-col sm:flex-row">
                <img [src]="item.image" alt="{{ item.name }}" 
                     class="h-32 w-32 object-cover rounded mb-4 sm:mb-0 sm:mr-6" />
                <div class="flex-grow">
                  <div class="flex justify-between items-start">
                    <h3 class="text-lg font-medium text-gray-800">{{ item.name }}</h3>
                    <p class="text-gray-900 font-semibold">
                      ${{ (item.price * item.quantity).toFixed(2) }}
                    </p>
                  </div>
                  <p class="text-gray-500 text-sm mt-1">{{ item.description }}</p>
                  <div class="flex items-center mt-4 text-gray-600 text-sm">
                    <span class="mr-6">Qty: {{ item.quantity }}</span>
                    <span>Unit Price: ${{ item.price.toFixed(2) }}</span>
                  </div>
                  <div *ngIf="item.status" class="mt-3">
                    <span [class]="getStatusClass(item.status)">{{ item.status }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
          <!-- Summary Column (1/3 width) -->
          <div class="lg:col-span-1">
            <div *ngIf="orderItems.length > 0" class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 sticky top-6">
              <h3 class="text-xl font-semibold text-gray-800 mb-4 pb-3 border-b border-gray-200">Order Details</h3>
              
              <div class="space-y-3 mb-6">
                <p class="flex justify-between text-gray-700">
                  <span>Order ID:</span>
                  <span class="font-medium">{{ order.id }}</span>
                </p>
                <p class="flex justify-between text-gray-700">
                  <span>Date:</span>
                  <span>{{ getFormattedDate() }}</span>
                </p>
                <p class="flex justify-between text-gray-700">
                  <span>Estimated Delivery:</span>
                  <span>{{ getEstimatedDelivery() }}</span>
                </p>
              </div>
              
              <div class="mb-6">
                <h4 class="font-medium text-gray-800 mb-2">Shipping Address</h4>
                <p class="text-gray-600 text-sm">{{ order.shippingAddress }}</p>
              </div>
              
              <hr class="my-4">
              
              <div class="space-y-2 mb-4">
                <p class="flex justify-between text-gray-600">
                  <span>Subtotal:</span>
                  <span>${{ getSubtotal() }}</span>
                </p>
                <p class="flex justify-between text-gray-600">
                  <span>Shipping:</span>
                  <span>${{ order.shippingCost.toFixed(2) }}</span>
                </p>
                <p class="flex justify-between text-gray-600">
                  <span>Tax:</span>
                  <span>${{ order.tax.toFixed(2) }}</span>
                </p>
              </div>
              
              <div class="flex justify-between text-lg font-semibold text-gray-800 pt-3 border-t border-gray-200">
                <span>Total:</span>
                <span>${{ getTotal() }}</span>
              </div>
              
              <div class="mt-6 space-y-3">
                <button (click)="trackOrder()" 
                        class="w-full bg-gray-800 hover:bg-gray-900 text-white py-3 rounded-md transition font-medium">
                  Track Order
                </button>
                <button routerLink="/vendor" 
                        class="w-full bg-transparent hover:bg-gray-100 text-gray-700 py-3 rounded-md transition border border-gray-300">
                  Back to Home
                </button>
              </div>
            </div>
          </div>
        </div>
  
        <!-- No Order -->
        <ng-template #noOrder>
          <div class="text-center py-16">
            <div class="mb-6 text-gray-300">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
            </div>
            <p class="text-gray-600 text-lg mb-6">You don't have any orders yet.</p>
            <a routerLink="/products" class="inline-block bg-gray-800 hover:bg-gray-900 text-white px-6 py-3 rounded-md transition">
              Start Shopping
            </a>
          </div>
        </ng-template>
      </div>
    </div>
  
    <!-- Footer (Updated) -->
    <div class="mt-auto bg-gray-100 py-6">
      <div class="container mx-auto px-4 text-center text-gray-500 text-sm">
        © 2025 Vendor Ordering System. All rights reserved.
      </div>
    </div>
  </div>
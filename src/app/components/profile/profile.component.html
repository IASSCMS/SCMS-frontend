<div class="min-h-screen flex flex-col">
  <!-- Background with curve - improved responsive behavior -->
  <div class="relative">
    <div
      class="absolute inset-0 bg-gradient-to-l from-red-500 to-yellow-500 h-[220px] sm:h-[240px] md:h-[260px]"
    >
      <div class="absolute bottom-0 left-0 right-0 overflow-hidden">
        <svg viewBox="0 0 1440 200" class="w-full" preserveAspectRatio="none">
          <path
            fill="#ffffff"
            fill-opacity="1"
            d="M0,96L80,106.7C160,117,320,139,480,149.3C640,160,800,160,960,138.7C1120,117,1280,75,1360,53.3L1440,32L1440,200L1360,200C1280,200,1120,200,960,200C800,200,640,200,480,200C320,200,160,200,80,200L0,200Z"
          ></path>
        </svg>
      </div>
    </div>

    <!-- Improved welcome section - centered and enhanced styling -->
    <div
      class="container mx-auto px-4 relative z-10 h-[180px] sm:h-[200px] md:h-[220px] flex items-center justify-center"
    >
      <div class="text-center max-w-md mx-auto">
        <div
          class="inline-block mb-1 px-3 py-1 rounded-full bg-[#1a759f]/20 text-blue-100 text-sm"
        >
          Supply Chain Management System
        </div>
        <div *ngIf="isLoading" class="mt-4">
          <div
            class="animate-pulse h-8 bg-blue-100/30 rounded-md w-48 mx-auto mb-2"
          ></div>
          <div
            class="animate-pulse h-6 bg-blue-100/30 rounded-md w-32 mx-auto"
          ></div>
        </div>
        <div *ngIf="!isLoading">
          <h2 class="text-xl md:text-2xl font-medium text-blue-100 mt-2">
            Welcome back,
          </h2>
          <h1 class="text-3xl md:text-4xl font-bold text-white mt-1">
            {{ user.name }}
          </h1>
          <p class="text-blue-100 mt-2 text-lg">{{ user.role }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Profile content - adjusted top padding to account for the curve -->
  <div class="container mx-auto px-4 py-6 md:py-8 mt-12 sm:mt-16 md:mt-20">
    <div
      *ngIf="errorMessage"
      class="mb-6 p-4 bg-red-100 text-red-700 rounded-lg"
    >
      {{ errorMessage }}
    </div>

    <div *ngIf="isLoading" class="space-y-6">
      <div class="bg-white rounded-lg shadow-sm border border-slate-200 p-6">
        <div class="animate-pulse h-6 bg-slate-200 rounded-md w-32 mb-4"></div>
        <div class="space-y-4">
          <div class="animate-pulse h-4 bg-slate-200 rounded-md w-full"></div>
          <div class="animate-pulse h-4 bg-slate-200 rounded-md w-full"></div>
          <div class="animate-pulse h-4 bg-slate-200 rounded-md w-full"></div>
        </div>
      </div>
      <div class="bg-white rounded-lg shadow-sm border border-slate-200 p-6">
        <div class="animate-pulse h-6 bg-slate-200 rounded-md w-48 mb-4"></div>
        <div class="space-y-4">
          <div class="animate-pulse h-4 bg-slate-200 rounded-md w-full"></div>
          <div class="animate-pulse h-4 bg-slate-200 rounded-md w-full"></div>
        </div>
      </div>
    </div>

    <div *ngIf="!isLoading" class="space-y-6">
      <div class="bg-white rounded-lg shadow-sm border border-slate-200">
        <div class="p-6">
          <h3 class="text-xl font-semibold mb-3 text-[#003545]">Details</h3>
          <div class="space-y-2 text-gray-600">
            <div
              *ngFor="let detail of roleSpecificDetails"
              class="flex justify-between border-b border-slate-300 pb-2"
            >
              <span>{{ detail.label }}:</span>
              <span class="font-medium">{{ detail.value }}</span>
            </div>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow-sm border border-slate-200">
        <div class="p-6">
          <h3 class="font-semibold mb-3 text-[#003545] text-xl">
            Contact Information
          </h3>
          <div class="space-y-2 text-gray-600">
            <div
              *ngFor="let contact of contactDetails"
              class="flex justify-between border-b border-slate-300 pb-2"
            >
              <span>{{ contact.label }}:</span>
              <span>{{ contact.value }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Logout button - enhanced with brand styling -->
  <div *ngIf="!isLoading" class="flex justify-center my-8">
    <button
      (click)="logout()"
      [disabled]="isLoggingOut"
      class="px-6 py-2 bg-[#f19249] hover:bg-[#fcd9b1] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 transform hover:scale-105 active:scale-95 shadow-md"
    >
      <span class="flex items-center">
        <svg
          *ngIf="isLoggingOut"
          class="animate-spin -ml-1 mr-2 h-4 w-4 text-white"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          ></path>
        </svg>
        <svg
          *ngIf="!isLoggingOut"
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 mr-2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
          />
        </svg>
        {{ isLoggingOut ? "Logging out..." : "Logout from Account" }}
      </span>
    </button>
  </div>

  <!-- Footer -->
  <div class="mt-auto bg-gray-50 py-6">
    <div class="container mx-auto px-4 text-center text-gray-500 text-sm">
      Â© 2025 Supply Chain Management System. All rights reserved.
    </div>
  </div>
</div>
